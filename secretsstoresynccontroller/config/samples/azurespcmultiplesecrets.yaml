apiVersion: secrets-store.csi.x-k8s.io/v1
kind: SecretProviderClass
metadata:
  name: spc-multiple-secrets                        # name of the SecretProviderClass
spec:
  # Secret synchronization fields removed from SPC
  # secretObjects:                              # [OPTIONAL] SecretObject defines the desired state of synced K8s secret objects
  # - data:
  #  - key: username                           # data field to populate
  #    objectName: foo1                        # name of the mounted content to sync. this could be the object name or the object alias
  #  secretName: foosecret                     # name of the Kubernetes Secret object
  #  type: Opaque                              # type of the Kubernetes Secret object e.g. Opaque, kubernetes.io/tls
  # ...
  provider: azure                                   # name of the provider
  parameters:
    clientID: "<client-id-for-workload-identity>"   # [OPTIONAL for Azure] used for azure authentication
    keyvaultName: "<key-vault-name>"                # name of the keyvault
    objects: |                                      # [REQUIRED] objects to fetch from keyvault, specified in an
      array:                                        # array             
        - |
          objectName: <secret1-name-in-key-vault>   # name of the secret object
          objectType: secret                        # object types: secret, key or cert
        - |
          objectName: <secret2-name-in-key-vault>   # name of the secret object
          objectType: secret                        # object types: secret, key or cert
          objectAlias: <secret2-object-alias>       # [OPTIONAL] object alias, default to object name
          objectVersion:                            # [OPTIONAL] object versions, default to latest if empty
    tenantId: "<tenant-id>"                         # [OPTIONAL for Azure] used for azure authentication