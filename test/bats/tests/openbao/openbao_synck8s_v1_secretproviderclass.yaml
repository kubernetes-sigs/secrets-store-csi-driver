apiVersion: secrets-store.csi.x-k8s.io/v1
kind: SecretProviderClass
metadata:
  name: openbao-foo-sync
spec:
  provider: openbao
  secretObjects:
    - secretName: foosecret
      type: Opaque
      labels:
        environment: "test"
      annotations:
        kubed.appscode.com/sync: "app=test"
      data:
        - objectName: foo
          key: pwd
        - objectName: bar
          key: username
        - objectName: nested/foo
          key: nested
  parameters:
    roleName: "csi"
    baoAddress: "http://openbao.openbao:8200"
    objects: |
      - secretPath: "secrets/data/foo"
        objectName: "foo"
        secretKey: "foo"
      - secretPath: "secrets/data/bar"
        objectName: "bar"
        secretKey: "bar"
      - secretPath: "secrets/data/foo"
        objectName: "nested/foo"
        secretKey: "foo"
